@import "tailwindcss";
@import "tw-animate-css";
@import "./styles/animations.css";
@import "./styles/tokens.css";
@import "./styles/light-luxury-tokens.css";
@import "./styles/accessibility.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* === RADIUS (from tokens) === */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);

  /* === DESIGN SYSTEM COLORS (NÃ©o-Institutionnel) === */

  /* Foundation (Deep Forest Teal) */
  --color-foundation: var(--brand-foundation);
  --color-foundation-2: var(--brand-foundation-2);
  --color-foundation-soft: var(--brand-foundation-soft);

  /* CTA (Electric Copper) */
  --color-cta: var(--brand-cta);
  --color-cta-2: var(--brand-cta-2);
  --color-cta-soft: var(--brand-cta-soft);

  /* Obsidian (Premium Dark) */
  --color-obsidian: var(--brand-obsidian);
  --color-obsidian-2: var(--brand-obsidian-2);

  /* Neutrals */
  --color-porcelain: var(--bg);
  --color-surface: var(--surface);
  --color-sand: var(--sand);
  --color-text: var(--text);
  --color-muted: var(--muted);

  /* Brand Accents */
  --color-lingueefy: var(--lingueefy-accent);
  --color-lingueefy-soft: var(--lingueefy-accent-soft);
  --color-barholex-gold: var(--barholex-gold);
  --color-barholex-gold-soft: var(--barholex-gold-soft);

  /* Dynamic Brand Accent (changes per page) */
  --color-brand-accent: var(--brand-accent);
  --color-brand-accent-2: var(--brand-accent-2);
  --color-brand-accent-soft: var(--brand-accent-soft);

  /* === LEGACY MAPPINGS (for existing components) === */
  --color-background: var(--bg);
  --color-foreground: var(--text);
  --color-card: var(--surface);
  --color-card-foreground: var(--text);
  --color-popover: var(--surface);
  --color-popover-foreground: var(--text);
  --color-primary: var(--brand-foundation);
  --color-primary-foreground: #FFFFFF;
  --color-secondary: var(--sand);
  --color-secondary-foreground: var(--text);
  --color-muted-foreground: #374151;      /* FORCED dark gray for contrast */
  --color-accent: var(--brand-cta);
  --color-accent-foreground: #FFFFFF;
  --color-destructive: var(--danger);
  --color-destructive-foreground: #FFFFFF;
  --color-border: var(--sand);
  --color-input: var(--sand);
  --color-ring: var(--ring);

  /* Charts */
  --color-chart-1: var(--brand-foundation);
  --color-chart-2: var(--brand-cta);
}


/* === ACCESSIBILITY UTILITIES === */

/* Focus visible ring for keyboard navigation */
@layer utilities {
  .focus-ring {
    @apply outline-none ring-2 ring-offset-2 ring-slate-500 dark:ring-slate-400;
  }
  
  /* High contrast text utilities */
  .text-high-contrast {
    @apply text-slate-900 dark:text-white;
  }
  
  .text-medium-contrast {
    @apply text-slate-700 dark:text-slate-200;
  }
  
  .text-low-contrast {
    @apply text-slate-500 dark:text-slate-400;
  }
  
  /* Accessible card backgrounds */
  .bg-card-accessible {
    @apply bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700;
  }
  
  /* Skip link for screen readers */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-white focus:text-slate-900 focus:rounded-md focus:shadow-lg;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-border: #000000;
    --color-text: #000000;
    --color-muted-foreground: #1f2937;
  }
  
  .dark {
    --color-border: #ffffff;
    --color-text: #ffffff;
    --color-muted-foreground: #e5e7eb;
  }
}

/* Focus visible styles for all interactive elements */
@layer base {
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [role="button"]:focus-visible,
  [tabindex]:focus-visible {
    @apply outline-none ring-2 ring-slate-500 dark:ring-slate-400 ring-offset-2 ring-offset-white dark:ring-offset-slate-900;
  }
}

/* Ensure minimum touch target size for mobile accessibility */
@layer utilities {
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }
}

