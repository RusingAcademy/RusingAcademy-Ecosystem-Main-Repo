# ═══════════════════════════════════════════════════════════════════════════════
# RusingAcademy Ecosystem — Environment Variables
# Copy this file to .env and fill in your values
# ═══════════════════════════════════════════════════════════════════════════════

# ─── Core ─────────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=3000
DATABASE_URL=mysql://user:password@host:port/database
JWT_SECRET=your-jwt-secret-here

# ─── OpenAI (GPT + Whisper STT) ──────────────────────────────────────────────
OPENAI_API_KEY=sk-...
# OPENAI_API_BASE=https://api.openai.com/v1  # Optional: custom base URL

# ─── MiniMax (Text-to-Speech) ────────────────────────────────────────────────
# API key from https://platform.minimax.io
# Used for TTS in voice routes and audio generation service
MINIMAX_API_KEY=eyJ...
# NOTE: MINIMAX_GROUP_ID is NO LONGER required — api.minimax.io/v1 uses Bearer auth only

# ─── Coach Voice IDs (MiniMax Cloned Voices) ─────────────────────────────────
# These have sensible defaults but can be overridden
STEVEN_VOICE_ID=moss_audio_b813fbba-c1d2-11f0-a527-aab150a40f84
PRECIOSA_VOICE_ID=moss_audio_a784f0fe-f448-11f0-9e6a-0a02ecbdcfa7

# ─── Stripe ───────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_CONNECT_WEBHOOK_SECRET=whsec_...  # Phase 1: Stripe Connect webhook signing secret

# ─── OAuth ────────────────────────────────────────────────────────────────────
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_TENANT=common

# ─── Email (SMTP / SendGrid) ─────────────────────────────────────────────────
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=
SMTP_FROM=noreply@rusingacademy.com
SMTP_FROM_NAME=RusingAcademy
SMTP_SECURE=false
# SENDGRID_API_KEY=  # Alternative to SMTP

# ─── Bunny CDN / Stream ──────────────────────────────────────────────────────
# BUNNY_STORAGE_API_KEY=
# BUNNY_STORAGE_ZONE=
# BUNNY_STORAGE_HOSTNAME=
# BUNNY_CDN_URL=
# BUNNY_STREAM_API_KEY=
# BUNNY_STREAM_LIBRARY_ID=
# BUNNY_STREAM_CDN_HOSTNAME=

# ─── WebSocket (Phase 1) ─────────────────────────────────────────────────────
WEBSOCKET_ENABLED=false  # Set to 'true' to enable Socket.io WebSocket server
WEBSOCKET_CORS_ORIGIN=http://localhost:3000  # Allowed origins for WebSocket

# ─── Calendly (Phase 3) ──────────────────────────────────────────────────────
# CALENDLY_API_KEY=
# CALENDLY_WEBHOOK_SECRET=
# CALENDLY_CLIENT_ID=  # OAuth client ID for coach Calendly integration
# CALENDLY_CLIENT_SECRET=  # OAuth client secret

# ─── Daily.co Video (Phase 3) ────────────────────────────────────────────────
# DAILY_API_KEY=  # API key for native video rooms

# ─── Push Notifications (VAPID — Phase 2) ────────────────────────────────────
# Generate keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@rusingacademy.com

# ─── Security ────────────────────────────────────────────────────────────────
# CRON_SECRET=  # Protects cron endpoints
# OWNER_EMAIL=  # Platform owner email
# OWNER_OPEN_ID=  # Platform owner OAuth ID

# ─── Railway-specific ────────────────────────────────────────────────────────
# RAILWAY_ENVIRONMENT=production  # Set automatically by Railway

# ─── App URLs & Frontend Config ──────────────────────────────────────────────
# VITE_APP_URL=https://your-domain.com
# VITE_APP_ID=rusingacademy
# VITE_OAUTH_PORTAL_URL=
# VITE_OAUTH_ENABLED=true
# VITE_OWNER_OPEN_ID=
# VITE_AUTH_DEBUG=false
# VITE_CLERK_PUBLISHABLE_KEY=  # Legacy — only if Clerk is still used

# ─── Analytics ───────────────────────────────────────────────────────────────
# VITE_GA4_MEASUREMENT_ID=G-XXXXXXXXXX
# VITE_UMAMI_ENDPOINT=https://analytics.example.com
# VITE_UMAMI_WEBSITE_ID=

# ─── Frontend Forge (AI Features) ───────────────────────────────────────────
# VITE_FRONTEND_FORGE_API_KEY=
# VITE_FRONTEND_FORGE_API_URL=
# BUILT_IN_FORGE_API_KEY=
# BUILT_IN_FORGE_API_URL=

# ─── Push Notifications (Client) ────────────────────────────────────────────
# VITE_VAPID_PUBLIC_KEY=

# ─── OAuth Server ────────────────────────────────────────────────────────────
# OAUTH_SERVER_URL=
# GOOGLE_REDIRECT_URI=

# ─── CRM Webhooks ────────────────────────────────────────────────────────────
# CRM_CUSTOM_WEBHOOK_URL=
# CRM_CUSTOM_WEBHOOK_SECRET=
# CRM_DISCORD_WEBHOOK_URL=
# CRM_SLACK_WEBHOOK_URL=

# ─── Logging ─────────────────────────────────────────────────────────────────
# LOG_LEVEL=info  # debug | info | warn | error
# MIGRATION_SECRET=  # Protects migration endpoints
